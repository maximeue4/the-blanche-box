
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="stylesheet.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>

// Pour le graphique

function createChart(chartId, chartDataTextX, chartData, ) {
  // Sélectionne le canvas du graphique
  var canvas = document.getElementById(chartId);

  // Initialise le graphique avec les données passées en paramètres
  var chart = new Chart(canvas, {
    type: "line",
    data: {
      labels: chartDataTextX,
      datasets: [
        {
          label: "Graphique",
          data: chartData,
          borderColor: "red",
          borderWidth: 2
        }
      ]
    },
    options: {
      maintainAspectRatio: true
    }
  });

  return chart;
}

  </script>
  <title>Tableau de bord</title>
</head>
<body>
  <nav>
    <button>Ajouter</button>
    <a href=""><img src="logo.png"></a>
    <button>Paramètre</button>
  </nav>

  <div class="all_widget">

    <div class="widget-princ">
      <div class="widget">
        <p>Température</p>
        <svg class="eye" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <path d="M20,50 Q50,20 80,50 Q50,80 20,50 Z" fill="black" />
          <circle cx="50" cy="50" r="15" fill="white" />
          <circle cx="50" cy="50" r="7" fill="black" />
        </svg>
        <p>En ligne</p>
        <svg class="edit" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <g transform="rotate(140, 50, 50)">
            <rect x="20" y="40" width="60" height="20" fill="#f7e9c6" stroke="#a2917d" stroke-width="2" />
            <polygon points="80,40 80,60 100,50" fill="#f7e9c6" stroke="#a2917d" stroke-width="2" />
            <circle cx="20" cy="50" r="10" fill="#a2917d" />
          </g>
        </svg>
      </div>
      <div class="widget-canvas">
        <canvas id="graph_1"></canvas>
        <script>createChart("graph_1", ["12h","13h","14h","15h","16h"], [20,16,14,10,9])</script>
      </div>
      <div id="param-widget">
        <p>Paramètre</p>
        <button>Modifier</button>
        <button>Supprimer</button>
      </div>
    </div>

    <div class="widget-princ">
      <div class="widget">
        <p>Altitude</p>
        <svg class="eye" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <path d="M20,50 Q50,20 80,50 Q50,80 20,50 Z" fill="black" />
          <circle cx="50" cy="50" r="15" fill="white" />
          <circle cx="50" cy="50" r="7" fill="black" />
        </svg>
        <p>En ligne</p>
        <svg class="edit" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <g transform="rotate(140, 50, 50)">
            <rect x="20" y="40" width="60" height="20" fill="#f7e9c6" stroke="#a2917d" stroke-width="2" />
            <polygon points="80,40 80,60 100,50" fill="#f7e9c6" stroke="#a2917d" stroke-width="2" />
            <circle cx="20" cy="50" r="10" fill="#a2917d" />
          </g>
        </svg>
      </div>
      <div class="widget-canvas">
        <canvas id="graph_2"></canvas>
        <script>createChart("graph_2", ["12h","13h","14h","15h","16h"], [0,100,250,1000,1500])</script>
      </div>
      <div id="param-widget">
        <p>Paramètre</p>
        <button>Modifier</button>
        <button>Supprimer</button>
      </div>
    </div>

    <div class="widget-princ">
      <div class="widget">
        <p>Pression</p>
        <svg class="eye" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <path d="M20,50 Q50,20 80,50 Q50,80 20,50 Z" fill="black" />
          <circle cx="50" cy="50" r="15" fill="white" />
          <circle cx="50" cy="50" r="7" fill="black" />
        </svg>
        <p>En ligne</p>
        <svg class="edit" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <g transform="rotate(140, 50, 50)">
            <rect x="20" y="40" width="60" height="20" fill="#f7e9c6" stroke="#a2917d" stroke-width="2" />
            <polygon points="80,40 80,60 100,50" fill="#f7e9c6" stroke="#a2917d" stroke-width="2" />
            <circle cx="20" cy="50" r="10" fill="#a2917d" />
          </g>
        </svg>
      </div>
      <div class="widget-canvas">
        <canvas id="graph_3"></canvas>
        <script>createChart("graph_3", ["12h","13h","14h","15h","16h"], [0,100,250,1000,1500])</script>
      </div>
      <div id="param-widget">
        <p>Paramètre</p>
        <button>Modifier</button>
        <button>Supprimer</button>
      </div>
    </div>

    <div class="widget-princ">
      <div class="widget">
        <p>CO2</p>
        <svg class="eye" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <path d="M20,50 Q50,20 80,50 Q50,80 20,50 Z" fill="black" />
          <circle cx="50" cy="50" r="15" fill="white" />
          <circle cx="50" cy="50" r="7" fill="black" />
        </svg>
        <p>En ligne</p>
        <svg class="edit" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <g transform="rotate(140, 50, 50)">
            <rect x="20" y="40" width="60" height="20" fill="#f7e9c6" stroke="#a2917d" stroke-width="2" />
            <polygon points="80,40 80,60 100,50" fill="#f7e9c6" stroke="#a2917d" stroke-width="2" />
            <circle cx="20" cy="50" r="10" fill="#a2917d" />
          </g>
        </svg>
      </div>
      <div class="widget-canvas">
        <canvas id="graph_4"></canvas>
        <script>createChart("graph_4", ["12h","13h","14h","15h","16h"], [0,100,250,1000,1500])</script>
      </div>
      <div id="param-widget">
        <p>Paramètre</p>
        <button>Modifier</button>
        <button>Supprimer</button>
      </div>
    </div>

    <div class="widget-princ">
      <div class="widget">
        <p>Accélération</p>
        <svg class="eye" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <path d="M20,50 Q50,20 80,50 Q50,80 20,50 Z" fill="black" />
          <circle cx="50" cy="50" r="15" fill="white" />
          <circle cx="50" cy="50" r="7" fill="black" />
        </svg>
        <p>En ligne</p>
        <svg class="edit" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <g transform="rotate(140, 50, 50)">
            <rect x="20" y="40" width="60" height="20" fill="#f7e9c6" stroke="#a2917d" stroke-width="2" />
            <polygon points="80,40 80,60 100,50" fill="#f7e9c6" stroke="#a2917d" stroke-width="2" />
            <circle cx="20" cy="50" r="10" fill="#a2917d" />
          </g>
        </svg>
      </div>
      <div class="widget-canvas">
        <canvas id="graph_5"></canvas>
        <script>createChart("graph_5", ["12h","13h","14h","15h","16h"], [0,100,250,1000,1500])</script>
      </div>
      <div id="param-widget">
        <p>Paramètre</p>
        <button>Modifier</button>
        <button>Supprimer</button>
      </div>
    </div>

  </div>

</html>

<script>

// Sélectionnez tous les éléments avec la classe .eye
const eyes = document.querySelectorAll('.eye');

// Parcourez chaque élément .eye et ajoutez un gestionnaire d'événements "click"
eyes.forEach((eye) => {
  // Suivez l'état de l'élément avec une variable
  let isDisplayed = false;

  eye.addEventListener('click', () => {
    // Sélectionnez l'élément que vous souhaitez modifier
    const widgetCanvas = eye.parentNode.nextElementSibling;

    // Inversez l'état de la variable et mettez à jour le style "display"
    isDisplayed = !isDisplayed;
    widgetCanvas.style.display = isDisplayed ? 'block' : 'none';
  });
});

// Sélectionnez tous les éléments avec la classe  #eye
const edits = document.querySelectorAll('.edit');

// Parcourez chaque élément #eye et ajoutez un gestionnaire d'événements "click"
edits.forEach((edit) => {
  // Suivez l'état de l'élément avec une variable
  let isDisplayed = false;

  edit.addEventListener('click', () => {
    // Sélectionnez l'élément que vous souhaitez modifier
    widgetCanvasEdit = edit.parentNode.nextElementSibling.nextElementSibling;
    console.log(edit);

    // Inversez l'état de la variable et mettez à jour le style "display"
    isDisplayed = !isDisplayed;
    widgetCanvasEdit.style.display = isDisplayed ? 'block' : 'none';
  });
});


</script>